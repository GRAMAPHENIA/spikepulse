<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spikepulse - Domina la Gravedad</title>
    <meta name="description" content="Spikepulse: Un emocionante juego de plataformas donde controlas un cubo a trav√©s de obst√°culos peligrosos usando mec√°nicas avanzadas como salto doble, dash y gravedad invertida.">
    <meta name="keywords" content="juego, plataformas, espa√±ol, spikepulse, geometry dash, salto, gravedad">
    <meta name="author" content="Spikepulse Team">
    
    <!-- Preconnect para fuentes -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    <!-- Fuentes Spikepulse -->
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;400;600;700&display=swap" rel="stylesheet">
    
    <!-- CSS personalizado -->
    <link rel="stylesheet" href="src/styles/main.css">

</head>

<body class="spikepulse-app">
    <!-- Filtros SVG para soporte de daltonismo -->
    <svg style="position: absolute; width: 0; height: 0;" aria-hidden="true">
        <defs>
            <!-- Filtro para Protanopia (deficiencia rojo-verde) -->
            <filter id="protanopia-filter">
                <feColorMatrix type="matrix" values="0.567 0.433 0 0 0
                                                     0.558 0.442 0 0 0
                                                     0 0.242 0.758 0 0
                                                     0 0 0 1 0"/>
            </filter>
            
            <!-- Filtro para Deuteranopia (deficiencia verde-rojo) -->
            <filter id="deuteranopia-filter">
                <feColorMatrix type="matrix" values="0.625 0.375 0 0 0
                                                     0.7 0.3 0 0 0
                                                     0 0.3 0.7 0 0
                                                     0 0 0 1 0"/>
            </filter>
            
            <!-- Filtro para Tritanopia (deficiencia azul-amarillo) -->
            <filter id="tritanopia-filter">
                <feColorMatrix type="matrix" values="0.95 0.05 0 0 0
                                                     0 0.433 0.567 0 0
                                                     0 0.475 0.525 0 0
                                                     0 0 0 1 0"/>
            </filter>
        </defs>
    </svg>

    <!-- Efectos de bruma de fondo -->
    <div class="spikepulse-fog"></div>
    <div class="spikepulse-fog__particle" style="width: 300px; height: 200px; top: 10%; left: 20%;"></div>
    <div class="spikepulse-fog__particle spikepulse-fog__particle--delayed" style="width: 250px; height: 150px; top: 60%; right: 15%;"></div>
    <div class="spikepulse-fog__particle spikepulse-fog__particle--slow" style="width: 400px; height: 300px; top: 30%; left: 60%;"></div>
    <!-- Pantalla de inicio -->
    <div id="startScreen" class="spikepulse-screen-overlay spikepulse-screen-overlay--menu" role="dialog" aria-labelledby="main-title">
        <div class="spikepulse-screen-content spikepulse-screen-content--menu">
            <h1 id="main-title" class="spikepulse-screen-title spikepulse-screen-title--main">SPIKEPULSE</h1>
            <p class="spikepulse-screen-description">¬°Domina la gravedad y evita los obst√°culos!</p>
            <button id="startBtn" class="spikepulse-screen-button spikepulse-screen-button--primary" aria-describedby="game-description">
                COMENZAR AVENTURA
            </button>
            <button id="highScoresBtn" class="spikepulse-screen-button spikepulse-screen-button--secondary" style="margin-top: 10px;">
                VER R√âCORDS
            </button>
            <button id="settingsBtn" class="spikepulse-screen-button spikepulse-screen-button--secondary" style="margin-top: 10px;">
                CONFIGURACI√ìN
            </button>
            <div class="spikepulse-controls-info">
                <h2 class="spikepulse-controls-info__title">Controles</h2>
                <ul class="spikepulse-controls-info__list">
                    <li class="spikepulse-controls-info__item">
                        <span class="spikepulse-controls-info__icon spikepulse-controls-info__icon--jump">üñ±Ô∏è</span>
                        Click / Espacio: Saltar
                    </li>
                    <li class="spikepulse-controls-info__item">
                        <span class="spikepulse-controls-info__icon spikepulse-controls-info__icon--move">‚Üê ‚Üí</span>
                        A D: Mover
                    </li>
                    <li class="spikepulse-controls-info__item">
                        <span class="spikepulse-controls-info__icon spikepulse-controls-info__icon--dash">‚ö°</span>
                        Shift: Dash
                    </li>
                    <li class="spikepulse-controls-info__item">
                        <span class="spikepulse-controls-info__icon spikepulse-controls-info__icon--gravity">üîÑ</span>
                        Ctrl: Cambiar gravedad
                    </li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Pantalla de Game Over -->
    <div id="gameOverScreen" class="spikepulse-screen-overlay spikepulse-screen-overlay--game-over hidden" role="dialog" aria-labelledby="game-over-title">
        <div class="spikepulse-screen-content spikepulse-screen-content--game-over">
            <h2 id="game-over-title" class="spikepulse-screen-title spikepulse-screen-title--game-over">¬°PERDISTE!</h2>
            <p id="finalScore" class="spikepulse-screen-score">Distancia: 0m</p>
            <button id="restartBtn" class="spikepulse-screen-button spikepulse-screen-button--secondary">
                REINTENTAR MISI√ìN
            </button>
        </div>
    </div>

    <!-- Pantalla de Puntuaciones Altas -->
    <div id="highScoresScreen" class="spikepulse-screen-overlay spikepulse-screen-overlay--high-scores hidden" role="dialog" aria-labelledby="high-scores-title">
        <div class="spikepulse-screen-content spikepulse-screen-content--high-scores">
            <h2 id="high-scores-title" class="spikepulse-screen-title">üèÜ R√âCORDS</h2>
            <div id="highScoresList" class="spikepulse-high-scores-list">
                <p class="spikepulse-loading-text">Cargando r√©cords...</p>
            </div>
            <div class="spikepulse-player-stats">
                <h3>Estad√≠sticas Personales</h3>
                <div id="playerStatsContent" class="spikepulse-stats-grid">
                    <!-- Las estad√≠sticas se cargar√°n aqu√≠ -->
                </div>
            </div>
            <button id="backToMenuBtn" class="spikepulse-screen-button spikepulse-screen-button--secondary">
                VOLVER AL MEN√ö
            </button>
        </div>
    </div>

    <!-- Pantalla de Configuraci√≥n -->
    <div id="settingsScreen" class="spikepulse-screen-overlay spikepulse-screen-overlay--settings hidden" role="dialog" aria-labelledby="settings-title">
        <div class="spikepulse-screen-content spikepulse-screen-content--settings">
            <h2 id="settings-title" class="spikepulse-screen-title">‚öôÔ∏è CONFIGURACI√ìN</h2>
            
            <div class="spikepulse-settings-container">
                <!-- Pesta√±as de configuraci√≥n -->
                <div class="spikepulse-settings-tabs">
                    <button class="spikepulse-settings-tab spikepulse-settings-tab--active" data-tab="audio">
                        üîä Audio
                    </button>
                    <button class="spikepulse-settings-tab" data-tab="graphics">
                        üé® Gr√°ficos
                    </button>
                    <button class="spikepulse-settings-tab" data-tab="controls">
                        üéÆ Controles
                    </button>
                    <button class="spikepulse-settings-tab" data-tab="accessibility">
                        ‚ôø Accesibilidad
                    </button>
                </div>

                <!-- Contenido de las pesta√±as -->
                <div class="spikepulse-settings-content">
                    
                    <!-- Pesta√±a Audio -->
                    <div id="audioSettings" class="spikepulse-settings-panel spikepulse-settings-panel--active">
                        <div class="spikepulse-setting-group">
                            <label class="spikepulse-setting-label">
                                <input type="checkbox" id="soundEnabled" class="spikepulse-setting-checkbox">
                                <span class="spikepulse-setting-text">Efectos de Sonido</span>
                            </label>
                        </div>
                        
                        <div class="spikepulse-setting-group">
                            <label class="spikepulse-setting-label">
                                <span class="spikepulse-setting-text">Volumen de Efectos</span>
                                <input type="range" id="soundVolume" class="spikepulse-setting-slider" min="0" max="100" value="70">
                                <span class="spikepulse-setting-value" id="soundVolumeValue">70%</span>
                            </label>
                        </div>

                        <div class="spikepulse-setting-group">
                            <label class="spikepulse-setting-label">
                                <input type="checkbox" id="musicEnabled" class="spikepulse-setting-checkbox">
                                <span class="spikepulse-setting-text">M√∫sica de Fondo</span>
                            </label>
                        </div>
                        
                        <div class="spikepulse-setting-group">
                            <label class="spikepulse-setting-label">
                                <span class="spikepulse-setting-text">Volumen de M√∫sica</span>
                                <input type="range" id="musicVolume" class="spikepulse-setting-slider" min="0" max="100" value="50">
                                <span class="spikepulse-setting-value" id="musicVolumeValue">50%</span>
                            </label>
                        </div>

                        <div class="spikepulse-setting-group">
                            <label class="spikepulse-setting-label">
                                <input type="checkbox" id="vibrationEnabled" class="spikepulse-setting-checkbox">
                                <span class="spikepulse-setting-text">Vibraci√≥n (M√≥vil)</span>
                            </label>
                        </div>
                    </div>

                    <!-- Pesta√±a Gr√°ficos -->
                    <div id="graphicsSettings" class="spikepulse-settings-panel">
                        <div class="spikepulse-setting-group">
                            <label class="spikepulse-setting-label">
                                <span class="spikepulse-setting-text">Calidad Gr√°fica</span>
                                <select id="graphicsQuality" class="spikepulse-setting-select">
                                    <option value="low">Baja</option>
                                    <option value="medium">Media</option>
                                    <option value="high">Alta</option>
                                </select>
                            </label>
                        </div>

                        <div class="spikepulse-setting-group">
                            <label class="spikepulse-setting-label">
                                <input type="checkbox" id="showFPS" class="spikepulse-setting-checkbox">
                                <span class="spikepulse-setting-text">Mostrar FPS</span>
                            </label>
                        </div>

                        <div class="spikepulse-setting-group">
                            <label class="spikepulse-setting-label">
                                <input type="checkbox" id="enableParticles" class="spikepulse-setting-checkbox">
                                <span class="spikepulse-setting-text">Efectos de Part√≠culas</span>
                            </label>
                        </div>

                        <div class="spikepulse-setting-group">
                            <label class="spikepulse-setting-label">
                                <input type="checkbox" id="enableScreenShake" class="spikepulse-setting-checkbox">
                                <span class="spikepulse-setting-text">Vibraci√≥n de Pantalla</span>
                            </label>
                        </div>

                        <div class="spikepulse-setting-group">
                            <label class="spikepulse-setting-label">
                                <span class="spikepulse-setting-text">Velocidad de Animaci√≥n</span>
                                <input type="range" id="animationSpeed" class="spikepulse-setting-slider" min="50" max="200" value="100">
                                <span class="spikepulse-setting-value" id="animationSpeedValue">100%</span>
                            </label>
                        </div>
                    </div>

                    <!-- Pesta√±a Controles -->
                    <div id="controlsSettings" class="spikepulse-settings-panel">
                        <div class="spikepulse-setting-group">
                            <label class="spikepulse-setting-label">
                                <span class="spikepulse-setting-text">Sensibilidad T√°ctil</span>
                                <input type="range" id="touchSensitivity" class="spikepulse-setting-slider" min="50" max="200" value="100">
                                <span class="spikepulse-setting-value" id="touchSensitivityValue">100%</span>
                            </label>
                        </div>

                        <div class="spikepulse-setting-group">
                            <h4 class="spikepulse-setting-subtitle">Controles de Teclado</h4>
                            <div class="spikepulse-controls-grid">
                                <div class="spikepulse-control-item">
                                    <span class="spikepulse-control-action">Saltar:</span>
                                    <span class="spikepulse-control-keys">Espacio, ‚Üë, W</span>
                                </div>
                                <div class="spikepulse-control-item">
                                    <span class="spikepulse-control-action">Dash:</span>
                                    <span class="spikepulse-control-keys">Shift</span>
                                </div>
                                <div class="spikepulse-control-item">
                                    <span class="spikepulse-control-action">Gravedad:</span>
                                    <span class="spikepulse-control-keys">Ctrl</span>
                                </div>
                                <div class="spikepulse-control-item">
                                    <span class="spikepulse-control-action">Mover:</span>
                                    <span class="spikepulse-control-keys">‚Üê ‚Üí A D</span>
                                </div>
                                <div class="spikepulse-control-item">
                                    <span class="spikepulse-control-action">Pausa:</span>
                                    <span class="spikepulse-control-keys">Escape</span>
                                </div>
                            </div>
                        </div>

                        <div class="spikepulse-setting-group">
                            <h4 class="spikepulse-setting-subtitle">Controles M√≥viles</h4>
                            <p class="spikepulse-setting-description">
                                Los controles m√≥viles aparecen autom√°ticamente en dispositivos t√°ctiles.
                                Puedes tocar la pantalla para saltar o usar los botones en pantalla.
                            </p>
                        </div>
                    </div>

                    <!-- Pesta√±a Accesibilidad -->
                    <div id="accessibilitySettings" class="spikepulse-settings-panel">
                        <div class="spikepulse-setting-group">
                            <label class="spikepulse-setting-label">
                                <input type="checkbox" id="highContrast" class="spikepulse-setting-checkbox">
                                <span class="spikepulse-setting-text">Alto Contraste</span>
                            </label>
                        </div>

                        <div class="spikepulse-setting-group">
                            <label class="spikepulse-setting-label">
                                <input type="checkbox" id="reducedMotion" class="spikepulse-setting-checkbox">
                                <span class="spikepulse-setting-text">Movimiento Reducido</span>
                            </label>
                        </div>

                        <div class="spikepulse-setting-group">
                            <label class="spikepulse-setting-label">
                                <span class="spikepulse-setting-text">Tama√±o de Fuente</span>
                                <select id="fontSize" class="spikepulse-setting-select">
                                    <option value="small">Peque√±a</option>
                                    <option value="normal">Normal</option>
                                    <option value="large">Grande</option>
                                </select>
                            </label>
                        </div>

                        <div class="spikepulse-setting-group">
                            <label class="spikepulse-setting-label">
                                <span class="spikepulse-setting-text">Soporte para Daltonismo</span>
                                <select id="colorBlindSupport" class="spikepulse-setting-select">
                                    <option value="none">Ninguno</option>
                                    <option value="protanopia">Protanopia (Rojo-Verde)</option>
                                    <option value="deuteranopia">Deuteranopia (Verde-Rojo)</option>
                                    <option value="tritanopia">Tritanopia (Azul-Amarillo)</option>
                                </select>
                            </label>
                        </div>

                        <div class="spikepulse-setting-group">
                            <label class="spikepulse-setting-label">
                                <input type="checkbox" id="screenReaderSupport" class="spikepulse-setting-checkbox">
                                <span class="spikepulse-setting-text">Soporte para Lector de Pantalla</span>
                            </label>
                        </div>

                        <div class="spikepulse-setting-group">
                            <label class="spikepulse-setting-label">
                                <input type="checkbox" id="showHints" class="spikepulse-setting-checkbox">
                                <span class="spikepulse-setting-text">Mostrar Consejos</span>
                            </label>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Botones de acci√≥n -->
            <div class="spikepulse-settings-actions">
                <button id="resetSettingsBtn" class="spikepulse-screen-button spikepulse-screen-button--danger">
                    RESTABLECER
                </button>
                <button id="backToMenuFromSettingsBtn" class="spikepulse-screen-button spikepulse-screen-button--secondary">
                    VOLVER AL MEN√ö
                </button>
            </div>
        </div>
    </div>

    <!-- HUD del juego -->
    <div id="gameHUD" class="spikepulse-hud hidden" role="complementary" aria-label="Estad√≠sticas del juego">
        <div class="spikepulse-hud__container">
            <div class="spikepulse-hud__stat">
                <div class="spikepulse-hud__label spikepulse-hud__label--distance">DISTANCIA</div>
                <div id="distanceCounter" class="spikepulse-hud__value spikepulse-hud__value--distance" aria-live="polite">0m</div>
            </div>
            <div class="spikepulse-hud__separator"></div>
            <div class="spikepulse-hud__stat">
                <div class="spikepulse-hud__label spikepulse-hud__label--jumps">SALTOS</div>
                <div id="jumpsCounter" class="spikepulse-hud__value spikepulse-hud__value--jumps">2</div>
            </div>
            <div class="spikepulse-hud__separator"></div>
            <div class="spikepulse-hud__stat">
                <div class="spikepulse-hud__label spikepulse-hud__label--dash">DASH</div>
                <div id="dashStatus" class="spikepulse-hud__value spikepulse-hud__value--dash spikepulse-hud__value--dash-available">‚úì</div>
            </div>
            <div class="spikepulse-hud__separator"></div>
            <div class="spikepulse-hud__stat">
                <div class="spikepulse-hud__label spikepulse-hud__label--gravity">GRAVEDAD</div>
                <div id="gravityStatus" class="spikepulse-hud__value spikepulse-hud__value--gravity">‚Üì</div>
            </div>
            <div class="spikepulse-hud__separator"></div>
            <div class="spikepulse-hud__stat">
                <div class="spikepulse-hud__label spikepulse-hud__label--velocity">VELOCIDAD</div>
                <div id="velocityStatus" class="spikepulse-hud__value spikepulse-hud__value--velocity spikepulse-hud__value--velocity-low">0</div>
            </div>
        </div>
    </div>

    <!-- Bot√≥n de pausa -->
    <div id="pauseContainer" class="spikepulse-pause-container hidden">
        <button id="pauseBtn" class="spikepulse-pause-btn" aria-label="Pausar juego">
            PAUSA
        </button>
    </div>

    <!-- Canvas del juego -->
    <main class="spikepulse-main" role="main">
        <section class="spikepulse-game-container" aria-label="√Årea de juego">
            <canvas id="gameCanvas" 
                    class="spikepulse-canvas hidden" 
                    width="800" 
                    height="400"
                    aria-label="Canvas del juego Spikepulse"
                    role="img">
                Tu navegador no soporta canvas. Por favor actualiza tu navegador.
            </canvas>
        </section>
    </main>

    <!-- Controles m√≥viles -->
    <nav id="mobileControls" class="spikepulse-mobile-controls hidden" role="navigation" aria-label="Controles del juego">
        <!-- Controles de movimiento -->
        <div class="spikepulse-control-group spikepulse-control-group--movement">
            <button id="leftBtn" class="spikepulse-control-btn spikepulse-control-btn--movement" aria-label="Mover izquierda">
                <span class="spikepulse-control-btn__icon">‚Üê</span>
            </button>
            <button id="rightBtn" class="spikepulse-control-btn spikepulse-control-btn--movement" aria-label="Mover derecha">
                <span class="spikepulse-control-btn__icon">‚Üí</span>
            </button>
        </div>

        <!-- Controles de acci√≥n -->
        <div class="spikepulse-control-group spikepulse-control-group--actions">
            <button id="jumpBtn" class="spikepulse-control-btn spikepulse-control-btn--jump" aria-label="Saltar">
                <span class="spikepulse-control-btn__text">SALTO</span>
            </button>
            <button id="dashBtn" class="spikepulse-control-btn spikepulse-control-btn--dash" aria-label="Hacer dash">
                <span class="spikepulse-control-btn__text">DASH</span>
            </button>
            <button id="gravityBtn" class="spikepulse-control-btn spikepulse-control-btn--gravity" aria-label="Cambiar gravedad">
                <span class="spikepulse-control-btn__text">GRAV</span>
            </button>
        </div>
    </nav>

    <!-- Scripts modulares -->
    <script type="module" src="game.js"></script>
</body>

</html>